---
title: "Working in R"
output:
  learnr::tutorial:
    progressive: true
    version: 1.0
subtitle: |
  | ![](https://raw.githubusercontent.com/C-MOOR/rnaseq/master/assets/styling/cmoor_logo_notext.png){width=60%}
  | [Get Help](https://ciwemb.slack.com)
runtime: shiny_prerendered
---

```{r setup, include=FALSE}
library(learnr)
library(tidyverse)

tutorial_options(exercise.completion=TRUE)
knitr::opts_chunk$set(echo = FALSE)
options(scipen=5)

url <- "https://github.com/opencasestudies/ocs-bp-diet/raw/master/docs/dietary_risk_exposure_sep_ages_2017.csv"
df_diet <- read_csv( url ) %>%
  select( location=location_name, food=rei_name, age=age_group_name, sex, mean, unit ) %>%
  mutate( food = str_remove( food, "Diet low in |Diet high in " ) )
```

```{r}
# Extract the tutorial version from the YAML data and store it so we can print it using inline r code below.  This can't be done directly inline because the code for extracting the YAML data uses backticks
tv <- rmarkdown::metadata$output$`learnr::tutorial`$version
```

## Welcome! {.splashpage}

### Working in R (version `r tv`)

This tutorial focuses on basic elements of R including `data.frame`s and plotting using the data visualization package [ggplot2](https://ggplot2.tidyverse.org).
You will practice using R inside RStudio IDE, "the premier integrated development environment for R" ([ref](https://rstudio.com/products/rstudio/features/)).
Two datasets you will explore are [fuel economy data for different car models](https://ggplot2.tidyverse.org/reference/mpg.html) and [global patterns of dietary behavior](http://shiny.ciwemb.edu/dev/ocs-bp-diet.html).
In the next tutorial you will continue working with ggplot2 and begin using R Notebooks for reproducible and literate analysis.

![](http://www.sthda.com/sthda/RDoc/images/rstudio.png){width=50%}

#### Authors:

* [Katherine Cox](https://c-moor.github.io/portfolio/coxkatherine/)
* Frederick Tan

### Learning Goals

1. Carry out basic R tasks
    - Explore `data.frame`s
    - Plot with ggplot2 `aes()`
    - Use base R functions
1. Practice working in RStudio
    - Connect to RStudio Server
    - Interact using the Console
1. Apply strategies for working efficiently
    - Manage multiple web browser tabs
    - Write good questions

## Overview

### Exploring Data

> The goal of the first part of this book is to get you up to speed with the basic tools of data exploration as quickly as possible. Data exploration is the art of looking at your data, rapidly generating hypotheses, quickly testing them, then repeating again and again and again. The goal of data exploration is to generate many promising leads that you can later explore in more depth. [(ref)](https://r4ds.had.co.nz/explore-intro.html)

![](https://d33wubrfki0l68.cloudfront.net/795c039ba2520455d833b4034befc8cf360a70ba/558a5/diagrams/data-science-explore.png)

### Introductions

Start by reading these two short introductions that set the stage for Chapter 3:

- [Chapter 2 (Explore) Introduction](https://r4ds.had.co.nz/explore-intro.html){target="_blank"}
- [Chapter 3.1 (Data visualization) Introduction](https://r4ds.had.co.nz/data-visualisation.html#introduction){target="_blank"}

### Today's Tools

- Skills -- you will work with two important concepts
    - `data.frame`s -- a very useful way of storing data in rows and columns
    - ggplot2 `aes()` -- one way to specify properties of data on a plot e.g. x-y coordinates, color, size
- Data -- you will apply these skills to the following datasets
    - `mpg` -- ggplot2 "Fuel economy data from 1999 to 2008 for 38 popular models of cars"
    - `df_diet` -- Open Case Studies "Exploring global patterns of dietary behaviors"
- Working environments -- you will be introduced to R in three settings
    - learnR -- small "sandboxed" exercise areas that you used in the introductory tutorial
    - RStudio Console -- the basic environment where you can run any R commands
    - Swirl -- interactive tutorials right in the R console

## Pre-requisite

### RStudio Server

As mentioned in the first tutorial, you do **not** have to install R or RStudio to complete this tutorial.  Rather, we will use a centralized [RStudio Server](https://rstudio.com/products/rstudio/#rstudio-server) to get you started as quickly as possible.  A centralized RStudio Server provides the following advantages:

- Software -- many of the commonly used software packages are pre-installed
- Data -- datasets generated by the sequencing core or other lab members are readily accessible
- Compute -- access to more CPU, memory, and disk space than is available on a typical laptop
- Server -- long running computations run on the server rather than your laptop (even if you lose internet connection)

Before continuing with this tutorial, please ensure that you are able to log into [rstudio-36.ciwemb.edu](http://rstudio-36.ciwemb.edu){target="_blank"}

```{r question-1}
question("Are you able to log into RStudio Server (and see something *similar* to the screenshot below)?",
  answer("No"),
  answer("Yes", correct=TRUE),
  allow_retry = TRUE
)
```

![](https://d33wubrfki0l68.cloudfront.net/9a23d664f0f49bc2ef8e78bed6277dd48bd2b96d/af132/diagrams/rstudio-console.png){width=75%}

### Web Browser Tabs

Throughout these tutorials, you will have to manage multiple web browser tabs including:

- The tutorial
- RStudio Server
- *R for Data Science* website
- Google searches

Please practice organizing and switching between your tabs.  One strategy that you may find useful is to clean your "workspace" before working on a tutorial by quitting and restarting your web browser so that the only tabs you have open are related to the tutorial.  If you are having difficulty and need help, don't hesistate to ask in Slack!

**NOTE**: Some links will open a new tab in your browser while other links will replace your current tab.  For the links that replace your current tab, you can force it to open in a new tab by holding the `<CONTROL>` key while you click on the link and selecting `Open Link in New Tab`

![](https://drive.google.com/uc?id=1Vk9QRG3POWW_bD97-han2toidrpaVZKW){width=75%}

## 1. `data.frame`s

### Video

Many of the datasets you will work with in these tutorials are stored in `data.frame`s.  Watch this video describing how `data.frame`s are organized, in particular how the data in **rows** and **columns** differ.  Don't worry about all of the jargony R code (e.g. creating `data.frames`) as we will discuss them later.

![](https://www.youtube.com/watch?v=9f2g7RN5N0I)

```{r question-1-1}
question("What is one feature of `data.frame`s?",
  answer("Columns only contain numbers"),
  answer("Columns only contain strings of characters"),
  answer("All data in a given column must be the same type", correct=TRUE),
  answer("Data must be derived from a database"),
  allow_retry = TRUE
)
```

### Reading

Read the two **short** sections describing the `mpg` dataset

- [Chapter 3.2 First Steps](https://r4ds.had.co.nz/data-visualisation.html#first-steps){target="_blank"}
- [Chapter 3.2.1 The `mpg` data frame](https://r4ds.had.co.nz/data-visualisation.html#the-mpg-data-frame){target="_blank"}

### Exercise 1: Page and tab through a `data.frame` (1/2)

These tutorials provide a convenient interface to explore the `mpg` dataset.  In particular, when you explore `data.frame`s you can:

* Page down and up through the 234 rows by clicking on `Next` and `Previous`
* Tab right and left through the 11 columns by clicking on the small black triangles at the top

```{r, echo=TRUE}
mpg
```

```{r question-1-2}
question("What is the first car of class `suv` to appear in the `mpg` dataset? ... *Remember you may have to click on the small black triangles to see additional columns*",
  answer("a4"),
  answer("a4 quattro"),
  answer("c1500 suburban 2wd", correct=TRUE),
  answer("k1500 tahoe 4wd"),
  allow_retry = TRUE
)
```

### Exercise 1: Page and tab through a `data.frame` (2/2)

Activating this feature is as simple as executing a command that returns a `data.frame`.  Try this yourself by:

- Typing `mpg` into the "sandbox" exercise area below
- Clicking on `Run Code`

```{r problem-1-1, exercise=TRUE, exercise.eval=FALSE}
```

### Exercise 2: Identify `data.frame` dimension information (1/2)

Another way to find cars of class `suv` is to filter for the **62 rows** where `class` equals `suv` using a command such as

```{r, echo=TRUE, eval=FALSE}
filter( mpg, class=="suv" )
```

Notice how the filtered `data.frame` indicates how many rows (and columns) exist by displaying in the bottom left corner `1-10 of 62 rows | 1-10 of 11 columns`.

```{r, echo=TRUE, eval=TRUE}
filter( mpg, class=="suv" )
```

### Exercise 2: Identify `data.frame` dimension information (2/2)

Now it's your turn to find cars where `manufacturer` equals `ford`:

- Modify this command and replace `class=="suv"` with `manufacturer=="ford"`
- Click `Run Code`

```{r problem-1-2, exercise=TRUE, exercise.eval=FALSE}
filter( mpg, class=="suv" )
```

```{r question-problem-1-2}
question("How many rows are in the filtered `data.frame`?",
  answer("11"),
  answer("25", correct=TRUE),
  answer("62"),
  answer("234"),
  allow_retry = TRUE
)
```

### Exercise 3: Summarize `data.frame` columns (1/2)

Recall that in the `mpg` dataset:

- Rows represent different instances of cars (observations)
- Columns represent different properties of cars (variables)

We can calculate the average (and median, min, max, etc.) miles per gallon on the highway by:

- Extracting data in the `hwy` column using the `select()` function
- Invoking the `summary()` function

```{r echo=TRUE}
x <- select( mpg, hwy )
summary( x )
```

While we could try `summary()` with the `class` column to summarize the "type" of car

```{r echo=TRUE}
x <- select( mpg, class )
summary( x )
```

... a better way is to use `table()` to count each category

```{r echo=TRUE}
x <- select( mpg, class )
table( x )
```

### Exercise 3: Summarize `data.frame` columns (2/2)

Now it's your turn to find:

- Mean engine displacement in the `displ` column (answer: 3.472)
- Number of 4-wheel drives `drv` column (answer: 103)

Replace `class` with the name of the column you wish to summarize and click `Run Code`

```{r problem-1-3, exercise=TRUE, exercise.eval=FALSE}
x <- select( mpg, class )
summary( x )
table( x )
```

## 2. Troubleshooting

### Common Problems

Before going further, let's read about some common problems that even experienced R users encounter **every day** so you start building some intuition on what to pay attention to:

- [Chapter 3.4 Common problems](https://r4ds.had.co.nz/data-visualisation.html#common-problems){target="_blank"}

As you proceed through this tutorial, here are a few things to check if your code is broken:

- Mismatched parentheses and quotes
- Incorrect spelling and capitalization
- Missing (or extra!) commas

### Writing a good question

While it's important to *try* and fix your code yourself, please don't struggle too much but rather ask for help over Slack!  And just as important, please try and help others who are asking for help ;)

To increase the chances that someone can help fix your code, please read this advice on writing a good question

- Stack Overflow's [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example){target="_blank"}

```{r question-2-1}
question("What is *not* a recommendation for a good quesion?",
  answer("Minimal"),
  answer("Complete"),
  answer("Reproducible"),
  answer("Correct", correc=TRUE),
  allow_retry = TRUE
)
```

## 3. ggplot2 `aes()`

### Video

Armed with a basic idea of what data is stored in each column of `mpg`, let us now visualize the data to gain insight into the relationships between each variable.

> R has several systems for making graphs, but ggplot2 is one of the most elegant and most versatile. ggplot2 implements the grammar of graphics, a coherent system for describing and building graphs. With ggplot2, you can do more faster by learning one system and applying it in many places. [(ref)](https://r4ds.had.co.nz/data-visualisation.html#introduction)

![](https://www.youtube.com/watch?v=uiTc55clwuA)

```{r question-3-1}
question("What are the essential grammatical elements in ggplot2?",
  answer("data, statistics, coordinates"),
  answer("data, aesthetics, geometries", correct=TRUE),
  answer("data, geometries, coordinates"),
  answer("geometries, statistics, coordinates"),
  allow_retry = TRUE
)
```

### Reading 1

Read the following two sections introducting how to create a `ggplot` using the `ggplot2` package.  You will have an opportunity to run the code in **next** section of this tutorial.

- [Chapter 3.2.2 Creating a ggplot](https://r4ds.had.co.nz/data-visualisation.html#creating-a-ggplot){target="_blank"}
- [Chapter 3.2.3 A graphing template](https://r4ds.had.co.nz/data-visualisation.html#a-graphing-template){target="_blank"}

### Exercise in 3.2.2

Here is the code presented at the beginning of Chapter 3.2.2

```{r echo=TRUE, eval=FALSE}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy))
```

Type this code into the "sandboxed" exercise area below.  Do not just copy and paste but rather **be sure to type the code** to practice typing R code.

```{r problem-3-1, exercise=TRUE, exercise.eval=FALSE}
```

### Exercises in 3.2.4

Here is another exercise sandbox to work through 3.2.4 Exercises (reproduced below)

1. Run `ggplot(data = mpg)`. What do you see?
1. How many rows are in `mpg`? How many columns?
1. What does the `drv` variable describe? Read the help for `?mpg` to find out.
1. Make a scatterplot of `hwy` vs `cyl`.
1. What happens if you make a scatterplot of `class` vs `drv`? Why is the plot not useful?

```{r problem-3-2, exercise=TRUE, exercise.eval=FALSE}
```

### Reading 2

Now that you've warmed up with `ggplot()`, read about how `aes()`thetics map data **variables** to visual **properties** of objects in your plot.

- [Chapter 3.3 Aesthetic mappings](https://r4ds.had.co.nz/data-visualisation.html#aesthetic-mappings){target="_blank"}

Below is an exercise sandbox with the code presented at the beginning of Chapter 3.2.2.  Follow along with Chapter 3.3 and modify it so that the `class` variable is mapped to the following properties:

- `color`
- `size`
- `alpha`
- `shape`

Don't forget that you need a **comma** to separate each aesthetic, and that all aesthetics should be **inside** the `aes()` parentheses

i.e. `aes(` x = displ`,` y = hwy`,` color = class `)`

```{r problem-3-3, exercise=TRUE, exercise.eval=FALSE}
ggplot(data = mpg) +
  geom_point(mapping = aes(x = displ, y = hwy))
```

### Exercises in 3.3.1

Here is one more exercise sandbox to work through [3.3.1 Exercises](https://r4ds.had.co.nz/data-visualisation.html#exercises-1){target="_blank"} (reproduced below)

1. What’s gone wrong with this code? Why are the points not blue?

    ```{r echo=TRUE, eval=FALSE}
    ggplot(data = mpg) +
      geom_point(mapping = aes(x = displ, y = hwy, color = "blue"))
    ```

1. Which variables in `mpg` are categorical? Which variables are continuous? (Hint: type `?mpg` to read the documentation for the dataset). How can you see this information when you run `mpg`?
1. Map a continuous variable to `color`, `size`, and `shape`. How do these aesthetics behave differently for categorical vs. continuous variables?
1. What happens if you map the same variable to multiple aesthetics?
1. What does the `stroke` aesthetic do? What shapes does it work with? (Hint: use `?geom_point`)
1. What happens if you map an aesthetic to something other than a variable name, like `aes(colour = displ < 5)`? Note, you’ll also need to specify x and y.

```{r problem-3-4, exercise=TRUE, exercise.eval=FALSE}
```

## 4. OCS - Global Diets

### Dataset (1/2)

Congratulations!  You now have some basic tools to explore datasets in R!  The previous exercises dealt with the `mpg` dataset containing 234 rows.  Let's now apply what we've learnt to the `df_diet` dataset containing **88,200 rows**.  This dataset is from a study published by the [Global Burden of Disease Study](https://www.ncbi.nlm.nih.gov/pubmed/30954305) and cleaned by the [Open Case Studies](https://opencasestudies.github.io) project at the Johns Hopkins School of Public Health.  In particular,

> This article evaluated food consumption patterns in 195 countries for 15 different dietary risk factors that have probable associations with non-communicable disease (NCD).

Briefly explore the `data.frame` in the exercise area below using the tools we've discussed:

- What is in the `df_diet` dataset?
    - HINT: Entering the name of the `data.frame` and click `Run Code`
- What are the column variable names?
- Which column variables are strings (`chr`) and which are numbers (`dbl`)?
- For the `chr` variables, what are some of the categories?
- For the `dbl` variables, what are the average / min / max?

```{r problem-4-1, exercise=TRUE, exercise.eval=FALSE}
```

### Dataset (2/2)

At this point, we unfortunately don't have enough tools to properly explore all 195 countries.  Thus, we will focus on just one country.  Click `Run Code` to first see how each country is **spelled** (and **capitalized**!)  Note that the resulting output is in a box that can be scrolled:

```{r problem-4-2, exercise=TRUE, exercise.eval=FALSE}
x <- select( df_diet, location )
table( x )
```

Run this code to see how we can filter for the 450 rows where `location` equals `United States`:

```{r problem-4-3, exercise=TRUE, exercise.eval=FALSE}
df_diet_us <- filter( df_diet, location=="United States" )
df_diet_us
```

### Plot age vs mean (vs food vs sex)

Now let's visualize how food consumption varies between `Female` and `Male`.  Everything in the code below should be familiar except for `facet_wrap( ~ sex )`.  Two questions:

1. What does `facet_wrap()` do?  See what comes up on [google.com](https://www.google.com)
2. Which foods show a difference based on `sex`?

```{r problem-4-4, exercise=TRUE, exercise.eval=FALSE}
df_diet_us <- filter( df_diet, location=="United States" )

ggplot( df_diet_us ) +
  geom_point( aes( age, mean, color=food ) ) +
  facet_wrap( ~ sex )
```

### Plot age vs mean (vs sex vs food)

Now it's your turn to create the plot below that more easily compares `Female` vs `Male`.  Modify the code to:

  - `color` based on `sex`
  - `facet` based on `food`
  - Scale the y-axis independently by passing `facet_wrap()` the `scales="free"` option

    i.e. `facet_wrap(` ~ column_name`, scales="free"` `)`

```{r problem-4-5, exercise=TRUE, exercise.eval=FALSE}
df_diet_us <- filter( df_diet, location=="United States" )

ggplot( df_diet_us ) +
  geom_point( aes( age, mean, color=food ) ) +
  facet_wrap( ~ sex )
```

#### This is what your plot should look like

```{r echo=FALSE, eval=TRUE}
df_diet_us <- filter( df_diet, location=="United States" )

ggplot( df_diet_us ) +
  geom_point( aes( age, mean, color=sex ) ) +
  facet_wrap( ~ food, scales="free" )
```

## 5. Intro_R

### Introduction

With some basic experience exploring data under your belt, we will now start learning some of the nitty gritty details of R.  In this section, we will give you a quickstart overview of:

- Using R as a calculator
- Storing data in R
- Working with vectors (e.g. lists of numbers)

First, read this chapter on the basics:

- [Chapter 4 Workflow: basics](https://r4ds.had.co.nz/workflow-basics.html)

### Using R as a calculator (1/2)

At a basic level, R is just a calculator.  Type `5+5` into the box below, then click the “Run Code” button (at the top right of the box).  You should see the number 10 printed below the box.  If you see an error message, check for typos in the code box.

```{r adding-exercise, exercise=TRUE, exercise.lines=3}
```

R can do many mathematical operations.  Some examples include:

* Addition: `5+5`
* Subtraction: `5-3`
* Multiplication: `2*3`
* Division: `4/2`
* Raising to a power: `2**3` or `2^3`
* Taking a log: `log(5)`
    + By default R takes the natural log.  You can change this by adding a comma and your preferred base.  For example `log(5, 10)` find the log of 5 using base 10.
    + Since log10 is so popular, R has a special command: `log10(5)` will also find the log of 5 using base 10.  Note that this format only works for a couple of special, commonly used numbers (`log10`, `log2`).

### Using R as a calculator (2/2)

R will let you do many calculations in a row.  If I type `5+5` on the first line, and then type `log(7)` on the second line, R will print out both answers below the box:

```{r, echo=TRUE, eval=FALSE}
5+5
log(7)
```

```{r}
5+5
log(7)
```

Use the box below to play around with R as a calculator.  Everytime you click the “Run Code” button it will remove the results from last time and then print the results of *every* line that is currently in the code box.

```{r calculator-exercise, exercise=TRUE}
```

### Storing data in R (1/3)

R lets you store information by giving it a name.  We use the “arrow” or “assignment” operator to assign data to a name.  These names are usually called “variables”.  The arrow points in the direction we want to store information - in this example, we want to store the number `24` in a variable named `my_favorite_number`.

```{r, echo=TRUE}
my_favorite_number <- 24
```

You can use almost any variable name you want, although there are a few rules:

* It can only contain letters, numbers, and underscores, and can’t contain spaces (like an e-mail address)
* It has to start with a letter (not a number or a symbol)
* It’s usually a good idea (though not required) to use a descriptive name (like `my_height`), rather than a generic name (like `x`), so it’s easy to remember the variable stands for.

### Storing data in R (2/3)

When you store a variable, R won’t print anything.  If you want to see what’s inside a variable, type it’s name:

```{r, echo=TRUE}
favorite_number <- 24
favorite_number
```

You can do math with these stored variables.  You can also store the results of calculations in new variables.

Print the result of adding 5 to whatever number is stored in `favorite_number`:

```{r, echo=TRUE}
favorite_number + 5
```

Calculate the result of subtracting 4 from the number stored in favorite_number and store the result in a new variable named `another_cool_number`.  This doesn’t print the results:

```{r, echo=TRUE}
another_cool_number <- favorite_number - 4
```

Print out the result of the calculation that we stored with the previous command:

```{r, echo=TRUE}
another_cool_number
```

Reprint the number stored in `favorite_number` Notice that this number didn’t change when we did math with it:

```{r, echo=TRUE}
favorite_number
```

### Storing data in R (3/3)

Use the box below to play around with storing values.  Everytime you click the “Run Code” button it will remove the results from last time and then run every line in the current box.  This means it will “forget” whatever number you stored last time you clicked the button.  Remember that R doesn’t print anything when you store information in a variable - if you want to see what’s in the variable, type out the name of the variable on its own line.

```{r storing-exercise, exercise=TRUE}
```

### Working with vectors (1/2)

One of the things that makes R better than a standard calculator is that it can perform operations on whole lists of numbers.  In R these lists of numbers are called vectors.

We can create a vector using the `c` command (short for "combine"):

```{r, echo=TRUE}
my_vector <- c(1, 6, 13, 7, 2)
```

We can then do math on this whole list:

```{r, echo=TRUE}
my_vector * 2
```

We can also mathematically combine two (or more) vectors:

```{r, echo=TRUE}
vector1 <- c( 1, 3, 5)
vector2 <- c(3,3,3)
vector1 + vector2
```

Finally, there are several functions that can carry out calculations about the vector as a whole.  Some examples include:

* `sum(my_vector)`
* `mean(my_vector)`
* `median(my_vector)`
* `length(my_vector)` tells you how many numbers are in the vector

The `summary` function is a convenient way to calculate several of these summary statistics all at once:

```{r, echo=TRUE}
my_vector <- c(1, 6, 13, 7, 2)
summary(my_vector)
```

### Working with vectors (2/2)

You can imagine many ways these vector function could be useful for data analysis.  One example is converting between units, if your data is not in the format you want.

Use the box below to convert the vector of heights in inches to a vector of heights in meters.  One inch = 0.0254 meters.  The first line of the code is giving you a vector of heights in inches.  You do not need to edit this line, but add some code beneath it to convert these numbers to meters.  If you accidentally delete the first line or want to start over, you can click the “Start Over” button at the top of the box.  If you need a hint, click the hint button at the top of the box.

```{r vector-exercise, exercise=TRUE}
inches <- c(65, 72, 59)
```

```{r vector-exercise-hint-1}
"
Multiply the inches vector by 0.0254
You should get a vector that looks like this:
[1] 1.6510 1.8288 1.4986
"
```

```{r vector-exercise-hint-2}
inches * 0.0254
```

## 6. RStudio Console

### Layout

It's now time to transition from the tutorial "sandboxed" exercise areas into the RStudio Console where you can run any R commands.  In the image below of an RStudio session, pay particular attention to the:

- Console on the left where you will type in commands
- Output on the bottom right where your plot will appear

![](https://d33wubrfki0l68.cloudfront.net/9a23d664f0f49bc2ef8e78bed6277dd48bd2b96d/af132/diagrams/rstudio-console.png){width=75%}

### First plot

Note that to use the `ggplot2` package you generally first have to load the package using the command `library( "ggplot2" )`.  In the previous tutorial exercises, that step had been taken care of for you.  Thus, to plot engine displacement vs highway miles per gallon you will have to do the following:

1. Log into [rstudio-36.ciwemb.edu](http://rstudio-36.ciwemb.edu){target="_blank"}
2. Load the `ggplot2` package
3. Plot `displ` vs `hwy` from the `mpg` dataset

Here is what your should type into the console, pressing `<ENTER>` after every line so that R evaluates your command:

```{r echo=TRUE, eval=FALSE}
library( "ggplot2" )
ggplot( mpg ) +
  geom_point( aes( y=hwy, x=displ ) )
```

### Next plot(s)

Now try generating more plots!  As a reminder, the aesthetics that you have worked with so far are:

- `color`
- `size`
- `alpha`
- `shape`

... and the column variables in `mpg` that you have explored are:

- `cyl`
- `drv`
- `cty`
- `class`

Note that you only have to run the `library( "ggplot2" )` command once per session (we'll explore the concept of sessions in the next tutorial on reproducibility).

### `data.frame` redux

One final point about the console interface is that there is generally little interactivity.  Whereas you previously explored the convenient `data.frame` interface these tutorials provide that allowed you to page and tab through the dataset, "exploring" a `data.frame` in the console only provides a static snapshot

```
# A tibble: 234 x 11
   manufacturer model      displ  year   cyl trans      drv     cty   hwy fl    class
   <chr>        <chr>      <dbl> <int> <int> <chr>      <chr> <int> <int> <chr> <chr>
 1 audi         a4           1.8  1999     4 auto(l5)   f        18    29 p     compact
 2 audi         a4           1.8  1999     4 manual(m5) f        21    29 p     compact
 3 audi         a4           2    2008     4 manual(m6) f        20    31 p     compact
 4 audi         a4           2    2008     4 auto(av)   f        21    30 p     compact
 5 audi         a4           2.8  1999     6 auto(l5)   f        16    26 p     compact
 6 audi         a4           2.8  1999     6 manual(m5) f        18    26 p     compact
 7 audi         a4           3.1  2008     6 auto(av)   f        18    27 p     compact
 8 audi         a4 quattro   1.8  1999     4 manual(m5) 4        18    26 p     compact
 9 audi         a4 quattro   1.8  1999     4 auto(l5)   4        16    25 p     compact
10 audi         a4 quattro   2    2008     4 manual(m6) 4        20    28 p     compact
# … with 224 more rows
```

Experience it for yourself by:

- Typing `mpg`
- Hitting `<ENTER>`

## 7. swirl

### Introduction

Finally, let's dive deeper into the nitty gritty details of R by taking advantage of the [swirl](https://swirlstats.com) package that provides an interactive learning environment right in the R console:

> swirl is a software package for the R programming language that turns the R console into an interactive learning environment. Users receive immediate feedback as they are guided through self-paced lessons in data science and R programming. [ref](https://swirlstats.com/faq.html)

![](https://swirlstats.com/images/swirl_new_large_final.png){width=15%}

![](http://bcaffo.github.io/MOOCtalk/fig/swirl/Screenshot%202014-05-08%2011.58.39.png){width=75%}

### Overview

- You will work through 7-ish lessons ranging from `Basic_Building_Blocks` to `Subsetting_Vectors`
- Budget approximately **two hours** as each lesson takes approximately 10 - 20 minutes
- You can stop and restart if necessary so you do not have to complete all lessons in one sitting

### Instructions

More details available at the [swirl website](https://swirlstats.com/students.html)):

1. Install swirl by typing the following into the console and pressing `<ENTER>`:

    ```{r echo=TRUE, eval=FALSE}
    install.packages( "swirl" )
    ```

1. Start swirl by typing the following:

    ```{r echo=TRUE, eval=FALSE}
    library( "swirl" )
    swirl()
    ```

1. Install an interactive course:

    - After entering your name, pressing `<ENTER>`, selecting `1`, `2`, or `3`, and getting started, install the course: `R Programming: The basics of programming in R`

1. Complete these seven lessons (feel free to work on the other eight lessons as interest and time permits):

    - 1. Basic_Building_Blocks
    - 3. Sequences_of_Numbers
    - 4. Vectors
    - 5. Missing_Values
    - 6. Subsetting_Vectors
    - 8. Logic
    - 12. Looking_at_Data

## Wrap-up

### Summary

In this tutorial we:

1. Carried out basic R tasks
    - Explore `data.frame`s
    - Plot with ggplot2 `aes()`
    - Use base R functions
1. Practiced working in RStudio
    - Connect to RStudio Server
    - Interact using the Console
1. Applied strategies for working efficiently
    - Manage multiple web browser tabs
    - Write good questions

### What's Next

- Check in with your small group
- Ask a question and/or make a comment in `#edu_r4ds`
- Monitor Slack for the next tutorial which will dive deeper into ggplot2 and data visualization
